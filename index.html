<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Memory Game</title>
  </head>
  <body>
    <h1>Memory Game</h1>
    <div id="tavolo"></div>
    <script>
      let carteGirate = []; //{nome, posizione} variabile globale (valida anche al di fuori della funzione)
      let tavolo = document.querySelector("#tavolo");
      let mazzo = [
        { nome: "ballfish", img: "images/ballfish.png" },
        { nome: "crab", img: "images/crab.png" },
        { nome: "delphin", img: "images/delphin.png" },
        { nome: "seeHorse", img: "images/seeHorse.png" },
        { nome: "seeShell", img: "images/seeShell.png" },
        { nome: "seeStar", img: "images/seeStar.png" },
        { nome: "shark", img: "images/shark.png" },
        { nome: "stingRay", img: "images/stingRay.png" },
        { nome: "turtle", img: "images/turtle.png" },
        { nome: "whale", img: "images/whale.png" },
        { nome: "ballfish", img: "images/ballfish.png" },
        { nome: "crab", img: "images/crab.png" },
        { nome: "delphin", img: "images/delphin.png" },
        { nome: "seeHorse", img: "images/seeHorse.png" },
        { nome: "seeShell", img: "images/seeShell.png" },
        { nome: "seeStar", img: "images/seeStar.png" },
        { nome: "shark", img: "images/shark.png" },
        { nome: "stingRay", img: "images/stingRay.png" },
        { nome: "turtle", img: "images/turtle.png" },
        { nome: "whale", img: "images/whale.png" },
      ];
      //posiziona ogni carta presente nel mazzo sul tavolo
      function posaSuTavolo() {
        for (let posizione = 0; posizione < mazzo.length; posizione++) {
          console.log(mazzo[posizione].nome);
          let carta = document.createElement("img");
          carta.setAttribute("src", "images/blank.png");
          carta.setAttribute("pos", posizione);
          carta.addEventListener("click", giraCarta);
          tavolo.appendChild(carta);
        }
      }
      function giraCarta(carta) {
        posizione = this.getAttribute("pos");
        this.setAttribute("src", mazzo[posizione].img);
        mano(mazzo[posizione].nome, posizione);
      }
      posaSuTavolo();
      function mano(nome, posizione) {
        //gestisce un turno del gioco
        carteGirate.push({ n: nome, p: posizione });
        if (carteGirate.lenght == 2) {
          if(carteGirate[0].nome == carteGirate[1].nome){//carte coincidono
            carteGirate[0].setAttribute('src', 'images/vuota.png');
            carteGirate[1].setAttribute('src', 'images/vuota.png');
          }else{
          }
        } else {
        }
      }
    </script>
  </body>
</html>
